load("~/Github/Anki/Reddit_Step1.Rmd")
load("~/Github/Anki/Reddit_Step1.Rmd")
suppressPackageStartupMessages(require(tidyverse))
require(ggthemes)
require(lubridate)
require(stringr)
require(ggrepel)
require(kableExtra)
require(visreg)
require(corrplot)
require(kableExtra)
require(gridExtra)
reddit <- readr::read_csv("Step2CKSurvey.csv")
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A"))
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A"))
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A")) %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
)
Sys.setenv(TZ="America/Chicago")
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A")) %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
)
modelFormula <- "STEP2 ~ UW_2 - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
names(reddit)
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A")) %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
) %>% rename(UW_FirstPass=UW_FP)
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A")) %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
) %>% rename(UW_FP=UW_FirstPass)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
UW_2   = c(NA, NA, NA, NA),
UW_FP  = c(NA, NA, NA, NA),
NBME_6 = c(NA, NA, NA, NA),
NBME_7 = c(NA, NA, NA, NA),
NBME_8 = c(NA, NA, NA, NA),
Goal   = c(NA, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
# UW_2   = c(NA, NA, NA, NA),
# UW_FP  = c(NA, NA, NA, NA),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
modelFormula <- "STEP2 ~ UW_1 - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
# UW_2   = c(NA, NA, NA, NA),
# UW_FP  = c(NA, NA, NA, NA),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
# UW_2   = c(NA, NA, NA, NA),
UW_FP  = c(0.741, NA, NA, NA),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
# UW_2   = c(NA, NA, NA, NA),
UW_FP  = c(0.741, NA, NA, NA),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
summary(Reddit$UW_FP)
summary(reddit$UW_FP)
modelFormula <- "STEP2 ~ UW_1 UW_FP - 1"
## For testing how many results aren't blank
# nrow(filter(reddit, !is.na(UWSA2), !is.na(NBME17)))
### Sample linear models
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
# coefficients(lm2)
# residuals(lm2)
# fitted(lm2)
modelFormula <- "STEP2 ~ UW_1 + UW_FP - 1"
## For testing how many results aren't blank
# nrow(filter(reddit, !is.na(UWSA2), !is.na(NBME17)))
### Sample linear models
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
# coefficients(lm2)
# residuals(lm2)
# fitted(lm2)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, NA),
# UW_2   = c(NA, NA, NA, NA),
UW_FP  = c(0.741, NA, NA, NA),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
predict(lm2, inputScores, interval = "prediction", level=.95)
install.packages("rhandsontable")
library(rhandsontable)
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A"))
reddit %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
) %>%
rename(UW_FP=UW_FirstPass)
View(reddit)
modelFormula <- " - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
modelFormula <- "STEP2 ~  - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
modelFormula <- "STEP2 ~ UW_1 + UW_2 + UW_FP - 1"
### Sample linear models
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
# coefficients(lm2)
# residuals(lm2)
# fitted(lm2)
### Sample linear models
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
# coefficients(lm2)
# residuals(lm2)
# fitted(lm2)
modelFormula <- "STEP2 ~ UW_1 + UW_2 + UW_FP - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
reddit <- readr::read_csv("Step2CKSurvey.csv", na = c("", "NA", "#N/A"))
reddit <- reddit %>%
mutate(
Date_StudyStart = mdy(Date_StudyStart),
STEP2.date      = mdy(STEP2.date),
UW_FirstPass    = UW_FirstPass/100
) %>%
rename(UW_FP=UW_FirstPass)
modelFormula <- "STEP2 ~ UW_1 + UW_2 + UW_FP - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, 260),
UW_2   = c(NA, NA, NA, 260),
UW_FP  = c(0.741, NA, NA, 0.741),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
modelFormula <- "STEP2 ~ UW_1 +  UW_FP - 1"
modelFormula <- as.formula(modelFormula)
lm2 <- lm(modelFormula, data = reddit) #define model
summary(lm2)
inputScores <- data_frame(
Person = c("Hunter", "Laura", "Wes", "Test"),
UW_1   = c(260, NA, NA, 260),
# UW_2   = c(NA, NA, NA, 260),
UW_FP  = c(0.741, NA, NA, 0.741),
# NBME_6 = c(NA, NA, NA, NA),
# NBME_7 = c(NA, NA, NA, NA),
# NBME_8 = c(NA, NA, NA, NA),
Goal   = c(260, NA, NA, NA)
)
inputScores <- inputScores %>%
bind_cols() %>%
data.frame(
predict(lm2, inputScores, interval = "prediction", level=.95)
)
inputScores %>%
mutate(
fit = round(fit),
lwr = round(lwr),
upr = round(upr)
) %>%
rename(`Fitted score`=fit, `Lower 95% CI`=lwr, `Upper 95% CI`=upr) %>%
knitr::kable(caption = "Predicted scores")
reddit$UW_FP %>% summary()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
markdown::markdownToHTML(text=pander::pander(lm2))
markdown::markdownToHTML(text=pander::pander(lm2, encoding="UTF-8"))
runApp()
mod <- pander::pander(lm2)
?pandoc
?pandoc
runApp()
runApp()
