{
    "collab_server" : "",
    "contents" : "\n# This is the user-interface definition of a Shiny web application.\n# You can find out more about building applications with Shiny here:\n#\n# http://shiny.rstudio.com\n#\n\n# ---- Packages\nrequire(shiny)\nsuppressPackageStartupMessages(require(tidyverse))\nrequire(ggthemes)\nrequire(lubridate)\nrequire(stringr)\nrequire(ggrepel)\nrequire(readr)\n\n\n# ---- Load data\nreddit <- readr::read_csv(\"Step2CKSurvey.csv\", na = c(\"\", \"NA\", \"#N/A\")) \n\nreddit <- reddit %>%\n  mutate(\n    Date_StudyStart = mdy(Date_StudyStart), # Sys.setenv(TZ=\"America/Chicago\")   \n    STEP2.date      = mdy(STEP2.date),\n    UW_FirstPass    = UW_FirstPass/100\n  ) %>% \n  rename(UW_FP=UW_FirstPass)\n\n\n\nshinybootstrap2::withBootstrap2(shinyUI(fluidPage(\n\n  # Application title\n  titlePanel(\"STEP 2 CK Score Linear Model (2018)\"),\n\n  # Sidebar with a slider input for number of bins\n  sidebarLayout(\n    sidebarPanel(\n        shiny::sliderInput(\"ci\", \"Confidence interval\", 50, 100, 95, 1),\n        h3(\"Your scores\"),\n        numericInput(\"UW_1\", label=\"UWSA 1\", value = 251),\n        numericInput(\"UW_2\", label=\"UWSA 2\", value = NA),\n        numericInput(\"UW_FP\", label=\"UW First pass (%)\", value = NA, min=1, max=100),\n        numericInput(\"Goal\", label=\"Goal/target score\", value = NA),\n        numericInput(\"NBME_6\", label=\"NBME 6\", value = NA),\n        numericInput(\"NBME_7\", label=\"NBME 7\", value = NA),\n        numericInput(\"NBME_8\", label=\"NBME 8\", value = NA),\n        p(a(href=\"https://www.reddit.com/r/Step2/comments/ansibd/step2_ck_2018_correlation_survey_results/\",\n            \"Reddit thread\")),\n        actionButton(\"help\", \"Help\")\n    ),\n\n    # Show a plot of the generated distribution\n    mainPanel(\n      fluidRow(\n        column(6, \n          # checkboxGroupInput(\"modelVars\", h3(\"Score(s) to include in model\"), \n          #                    inline=F,  selected = c(\"UWSA 1\"=\"UW_1\"),\n          #                    choices = c(\"UWSA 1\"=\"UW_1\", \"UWSA 2\"=\"UW_2\", \n          #                                \"UW First pass\"=\"UW_FP\", \"Goal score\"=\"Goal\",\n          #                                \"NBME #6\"=\"NBME_6\", \"NBME #7\"=\"NBME_7\", \n          #                                \"NBME #8\"=\"NBME_8\"))\n          uiOutput(\"dynamicCheckbox\"),\n          hr(),\n          plotOutput(\"graphDrop\", height = \"75px\"),\n          p(\"Based on\", strong(textOutput(\"numDrop\", inline=T)), \" total survey responses\")\n               ),\n        column(6, \n               p(\"Below are the calculated scores based on the equations from Reddit:\"),\n               htmlOutput(\"redditModel\"),\n               \n               modalDialog(title=\"How this works\", size=\"m\", easyClose=T,\n                 p(\"First, input your scores from all of the practice tests you've taken\",\n                   \"in their respective boxes on the left of the page.\"), \n                 p(\"You can then generate a linear model that predicts your score by checking the\",\n                   \"checkboxes at the top of the page for whichever practice tests you want to include.\",\n                   strong(\"Entering your scores in the sidebar does\", tags$u(\"not\"),\n                   \"include them in the model;\"),\"you must\", strong(\"use the checkboxes.\"),\n                   \"The confidence interval can be adjusted using the slider in the left-upper corner\"),\n                 hr(),\n                 p(\"Keep in mind that there is a tradeoff between a more complex model and\",\n                   \"the sample size. More complex models (e.g. including all five practice tests)\", \n                   \"have fewer responses included, because they only include survey responses from\",\n                   \"people who took all five practice tests (in this case, only 15% of the dataset).\",\n                   \"So it's best to stick to one or two variables (e.g.\", code(\"UW_1\"),\"+\", code(\"UW_2\"), \n                   \", which includeds 80% of the dataset).\"\n                   )\n                   \n                 )\n                           \n        )\n      ),\n      hr(),\n      \n      p(\"Using the model formula\", strong(\"STEP2 =\"), code(textOutput(\"modFormula\", inline=T)), \" as input:\"),\n      h4(\"Estimated score: \", strong(style=\"color:red\", textOutput(\"estScore\", inline=T)),\n         textOutput(\"estCI\", inline=T)),\n      \n      \n      plotOutput(\"graph\"),\n      p(\"Your projected score is in red. The grey points/bars represent the data from the reddit\n        survey for comparison\"),\n      hr(),\n      h3(\"Summary of the model\"),\n      p(\"Below is a summary of the current model, which isn't very easy to read,\n        so here's the TL;DR:\"),\n      p(strong(\"Call:\"), \"This is the formula which is shown up above. It does\",\n        HTML(\"<u>not</u>\"), \"include an intercept\"),\n      p(strong(\"Residuals:\"), \"Self-explanatory\"),\n      p(strong(\"Coefficients:\"), \"See table below. Variables that have a colon \n        between them represents the interaction between/among variables (e.g.\",\n        code(\"UW_1 : UW_2\"), \"represents the interactions between these two tests).\"),\n      tableOutput(\"coeffDf\"),\n      verbatimTextOutput(\"modSummary\")\n    )\n  )\n)))\n",
    "created" : 1563297891078.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1582978323",
    "id" : "4D4F3D49",
    "lastKnownWriteTime" : 1563658197,
    "last_content_update" : 1563658197606,
    "path" : "~/Github/STEP2Reddit/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}